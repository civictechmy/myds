{
  "name": "daterange-picker",
  "type": "components:ui",
  "dependencies": [
    "class-variance-authority",
    "date-fns",
    "react-day-picker"
  ],
  "registryDependencies": [
    "button",
    "calendar",
    "dialog",
    "hooks",
    "popover"
  ],
  "files": [
    {
      "path": "components/ui/daterange-picker.tsx",
      "content": "import { FC } from \"react\";\nimport { DateAfter, DateBefore, DateRange, Matcher } from \"react-day-picker\";\nimport { enGB, ms } from \"date-fns/locale\";\nimport { format } from \"date-fns\";\nimport { useControllableState } from \"@/components/ui/hooks\";\nimport { Button, button_cva } from \"./button\";\nimport { Calendar } from \"./calendar\";\nimport { Dialog, DialogBody, DialogContent, DialogTrigger } from \"./dialog\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"./popover\";\nimport { VariantProps } from \"class-variance-authority\";\n\nexport type DateRangePickerProps = {\n  defaultValue?: DateRange;\n  disabled?: Matcher | Matcher[];\n  excludeDisabled?: boolean;\n  formatStr?: string;\n  fromLabel?: string;\n  locale?: \"en\" | \"ms\";\n  maxYear?: number;\n  minYear?: number;\n  onValueChange?: (date: DateRange) => void;\n  placeholder?: string;\n  value?: DateRange;\n  size?: VariantProps<typeof button_cva>[\"size\"];\n  toLabel?: string;\n  yearOrder?: \"asc\" | \"desc\";\n};\n\n/**\n * The DateRangePicker component allows users to select a range of dates from an interactive calendar.\n * @see {@link https://design.digital.gov.my/?path=/docs/myds-react-daterangepicker--docs}\n */\nconst DateRangePicker: FC<DateRangePickerProps> = ({\n  defaultValue,\n  disabled,\n  formatStr = \"dd MMM yyy\",\n  fromLabel,\n  locale = \"en\",\n  onValueChange,\n  placeholder = \"dd / mm / yyyy\",\n  value,\n  size,\n  toLabel,\n  ...props\n}) => {\n  const [selectedDateRange, setSelectedDateRange] = useControllableState({\n    prop: value,\n    onChange: onValueChange,\n    defaultProp: defaultValue,\n  });\n\n  const isMS = locale === \"ms\";\n  const _locale = isMS ? ms : enGB;\n  const formatDate = (date: Date) =>\n    format(date, formatStr, {\n      locale: _locale,\n    });\n\n  const dateBefore: DateBefore = {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n    before: selectedDateRange?.from!,\n  };\n  const dateAfter: DateAfter = {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n    after: selectedDateRange?.to!,\n  };\n\n  return (\n    <>\n      {/* Mobile */}\n      <div className=\"text-txt-black-900 flex items-center gap-1.5 lg:hidden\">\n        <Dialog>\n          <DialogTrigger asChild>\n            <Button\n              variant=\"default-outline\"\n              size={size}\n              className=\"whitespace-nowrap\"\n            >\n              <span className=\"text-txt-black-500\">\n                {fromLabel ? fromLabel : isMS ? \"Dari:\" : \"From:\"}\n              </span>\n              {selectedDateRange?.from\n                ? formatDate(selectedDateRange.from)\n                : placeholder}\n            </Button>\n          </DialogTrigger>\n          <DialogBody className=\"w-fit min-w-fit\" hideClose>\n            <DialogContent className=\"w-[304px] p-0\">\n              <Calendar\n                disabled={\n                  selectedDateRange?.to\n                    ? disabled\n                      ? Array.isArray(disabled)\n                        ? [...disabled, dateAfter]\n                        : [disabled, dateAfter]\n                      : dateAfter\n                    : disabled\n                }\n                locale={_locale}\n                mode=\"range\"\n                month={selectedDateRange?.from}\n                onSelect={({ from, to }) => {\n                  const date = from === selectedDateRange?.from ? to : from;\n                  setSelectedDateRange({ ...selectedDateRange, from: date });\n                }}\n                required\n                selected={selectedDateRange}\n                daterange=\"from\"\n                {...props}\n              />\n            </DialogContent>\n          </DialogBody>\n        </Dialog>\n        -\n        <Dialog>\n          <DialogTrigger asChild>\n            <Button\n              variant=\"default-outline\"\n              size={size}\n              className=\"whitespace-nowrap\"\n            >\n              <span className=\"text-txt-black-500\">\n                {toLabel ? toLabel : isMS ? \"Hingga:\" : \"To:\"}\n              </span>\n              {selectedDateRange?.to\n                ? formatDate(selectedDateRange.to)\n                : placeholder}\n            </Button>\n          </DialogTrigger>\n          <DialogBody className=\"w-fit min-w-fit\" hideClose>\n            <DialogContent className=\"w-[304px] p-0\">\n              <Calendar\n                disabled={\n                  selectedDateRange?.from\n                    ? disabled\n                      ? Array.isArray(disabled)\n                        ? [...disabled, dateBefore]\n                        : [disabled, dateBefore]\n                      : dateBefore\n                    : disabled\n                }\n                locale={_locale}\n                mode=\"range\"\n                month={selectedDateRange?.to}\n                onSelect={setSelectedDateRange}\n                required\n                selected={selectedDateRange}\n                daterange=\"to\"\n                {...props}\n              />\n            </DialogContent>\n          </DialogBody>\n        </Dialog>\n      </div>\n\n      {/* Desktop */}\n      <div className=\"text-txt-black-900 hidden items-center gap-1.5 lg:flex\">\n        <Popover>\n          <PopoverTrigger asChild>\n            <Button\n              variant=\"default-outline\"\n              size={size}\n              className=\"whitespace-nowrap\"\n            >\n              <span className=\"text-txt-black-500\">\n                {fromLabel ? fromLabel : isMS ? \"Dari:\" : \"From:\"}\n              </span>\n              {selectedDateRange?.from\n                ? formatDate(selectedDateRange.from)\n                : placeholder}\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-[304px] p-0\" align=\"start\">\n            <Calendar\n              disabled={\n                selectedDateRange?.to\n                  ? disabled\n                    ? Array.isArray(disabled)\n                      ? [...disabled, dateAfter]\n                      : [disabled, dateAfter]\n                    : dateAfter\n                  : disabled\n              }\n              locale={_locale}\n              mode=\"range\"\n              month={selectedDateRange?.from}\n              onSelect={({ from, to }) => {\n                const date = from === selectedDateRange?.from ? to : from;\n                setSelectedDateRange({ ...selectedDateRange, from: date });\n              }}\n              required\n              selected={selectedDateRange}\n              daterange=\"from\"\n              {...props}\n            />\n          </PopoverContent>\n        </Popover>\n        -\n        <Popover>\n          <PopoverTrigger asChild>\n            <Button\n              variant=\"default-outline\"\n              size={size}\n              className=\"whitespace-nowrap\"\n            >\n              <span className=\"text-txt-black-500\">\n                {toLabel ? toLabel : isMS ? \"Hingga:\" : \"To:\"}\n              </span>\n              {selectedDateRange?.to\n                ? formatDate(selectedDateRange.to)\n                : placeholder}\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-[304px] p-0\" align=\"end\">\n            <Calendar\n              disabled={\n                selectedDateRange?.from\n                  ? disabled\n                    ? Array.isArray(disabled)\n                      ? [...disabled, dateBefore]\n                      : [disabled, dateBefore]\n                    : dateBefore\n                  : disabled\n              }\n              locale={_locale}\n              mode=\"range\"\n              month={selectedDateRange?.to}\n              onSelect={setSelectedDateRange}\n              required\n              selected={selectedDateRange}\n              daterange=\"to\"\n              {...props}\n            />\n          </PopoverContent>\n        </Popover>\n      </div>\n    </>\n  );\n};\nDateRangePicker.displayName = \"DateRangePicker\";\n\nexport { DateRangePicker };\n\nexport type { DateRange };\n",
      "type": "components:ui"
    }
  ],
  "tailwind": {
    "config": {
      "theme": {
        "extend": {
          "colors": {}
        }
      }
    }
  }
}
{
  "name": "input",
  "type": "components:ui",
  "dependencies": [
    "@radix-ui/react-slot",
    "class-variance-authority"
  ],
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "components/ui/input.tsx",
      "content": "import {\n  Children,\n  ComponentProps,\n  ComponentPropsWithRef,\n  ForwardRefExoticComponent,\n  ReactNode,\n  createContext,\n  forwardRef,\n  isValidElement,\n  useContext,\n  useMemo,\n} from \"react\";\nimport { cva, VariantProps } from \"class-variance-authority\";\nimport { clx } from \"@/lib/utils\";\nimport { Slot } from \"@radix-ui/react-slot\";\n\ntype InputContextProps = {\n  size: \"small\" | \"medium\" | \"large\" | null;\n};\n\nconst InputContext = createContext<InputContextProps>({\n  size: \"small\",\n});\n\ninterface InputProps\n  extends Omit<ComponentProps<\"input\">, \"size\">,\n    VariantProps<typeof input_cva> {\n  prepend?: ReactNode;\n  append?: ReactNode;\n  children?: ReactNode;\n}\n\nconst input_cva = cva(\n  [\n    \"bg-bg-white border border-transparent outline-none box-border rounded-md\",\n    \"placeholder:text-txt-black-500 text-txt-black-700 transition-colors w-full\",\n    \"focus:ring focus:ring-fr-primary focus:border-otl-primary-300\",\n    \"disabled:bg-bg-washed disabled:cursor-not-allowed disabled:text-txt-black-disabled\",\n    \"data-[has-prepend=true]:rounded-l-none data-[has-append=true]:rounded-r-none\",\n    \"data-[has-left-icon=true]:pl-10 data-[has-right-icon=true]:pr-10\",\n  ],\n  {\n    variants: {\n      size: {\n        small: \"py-1.5 px-3 text-body-sm\",\n        medium: \"py-2 px-3 text-body-md\",\n        large: \"py-2.5 px-3.5 text-body-lg\",\n      },\n    },\n    defaultVariants: {\n      size: \"small\",\n    },\n  },\n);\n\nconst Input: ForwardRefExoticComponent<InputProps> = forwardRef(\n  ({ className, prepend, append, children, size = \"small\", ...props }, ref) => {\n    const has_icon = useMemo(() => {\n      if (!children) return { left: false, right: false };\n      const _children = Children.toArray(children);\n      return {\n        left: _children.some(\n          (child) =>\n            isValidElement<ComponentPropsWithRef<typeof InputIcon>>(child) &&\n            child.props.position === \"left\",\n        ),\n        right: _children.some(\n          (child) =>\n            isValidElement<ComponentPropsWithRef<typeof InputIcon>>(child) &&\n            child.props.position === \"right\",\n        ),\n      };\n    }, [children]);\n\n    return (\n      <div\n        className={clx(\n          \"border-otl-gray-200 relative rounded-md border outline-none\",\n          className,\n        )}\n      >\n        <div className=\"flex w-full flex-row\">\n          <InputContext.Provider value={{ size }}>\n            {prepend}\n            <div className=\"relative w-full\">\n              <input\n                ref={ref}\n                className={input_cva({ size })}\n                data-has-prepend={!!prepend}\n                data-has-append={!!append}\n                data-has-left-icon={has_icon.left}\n                data-has-right-icon={has_icon.right}\n                {...props}\n              />\n              {children}\n            </div>\n            {append}\n          </InputContext.Provider>\n        </div>\n      </div>\n    );\n  },\n);\nInput.displayName = \"Input\";\n\n/*========================================================================================================================*/\n\nconst input_addon_cva = cva(\n  [\n    \"flex items-center\",\n    \"border border-transparent outline-none box-border \",\n    \"[&:not(:last-child)]:border-r-otl-gray-200 [&:not(:first-child)]:border-l-otl-gray-200\",\n  ],\n  {\n    variants: {\n      size: {\n        small: \"py-1.5 px-3 text-body-sm\",\n        medium: \"py-2 px-3 text-body-md\",\n        large: \"py-2.5 px-3.5 text-body-md\",\n      },\n    },\n  },\n);\n\ninterface InputAddonProps extends ComponentProps<\"div\"> {\n  asChild?: boolean;\n}\n\nconst InputAddon: ForwardRefExoticComponent<InputAddonProps> = forwardRef(\n  ({ className, asChild = false, ...props }, ref) => {\n    const { size } = useContext(InputContext);\n    const Comp = asChild ? Slot : \"div\";\n\n    return (\n      <Comp\n        ref={ref}\n        className={input_addon_cva({ size, className })}\n        {...props}\n      />\n    );\n  },\n);\n\nInputAddon.displayName = \"InputAddon\";\n\n/*========================================================================================================================*/\n\nconst input_icon_cva = cva([\"absolute top-0 bottom-0 my-auto\"], {\n  variants: {\n    size: {\n      small: \"size-4.5\",\n      medium: \"size-5\",\n      large: \"size-6\",\n    },\n    position: {\n      left: \"left-3\",\n      right: \"right-3\",\n    },\n  },\n  defaultVariants: {\n    position: \"left\",\n  },\n});\n\ninterface InputIconProps extends ComponentProps<\"div\"> {\n  position: \"left\" | \"right\";\n}\n\nconst InputIcon: ForwardRefExoticComponent<InputIconProps> = forwardRef(\n  ({ className, position = \"left\", ...props }, ref) => {\n    const { size } = useContext(InputContext);\n\n    return (\n      <Slot\n        ref={ref}\n        className={input_icon_cva({ position, size, className })}\n        {...props}\n      />\n    );\n  },\n);\n\nInputIcon.displayName = \"InputIcon\";\n\n/*========================================================================================================================*/\n\nexport { Input, InputAddon, InputIcon };\n",
      "type": "components:ui"
    }
  ],
  "tailwind": {
    "config": {
      "theme": {
        "extend": {
          "colors": {}
        }
      }
    }
  }
}
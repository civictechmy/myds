{
  "name": "pagination",
  "type": "components:ui",
  "dependencies": [
    "@radix-ui/react-slot"
  ],
  "registryDependencies": [
    "button",
    "ellipsis",
    "use-pagination",
    "utils"
  ],
  "files": [
    {
      "path": "components/ui/pagination.tsx",
      "content": "import React, {\n  ComponentProps,\n  createContext,\n  forwardRef,\n  ForwardRefExoticComponent,\n  ReactNode,\n  useContext,\n} from \"react\";\nimport { clx } from \"@/lib/utils\";\nimport { EllipsisIcon } from \"@/components/ui/icons/ellipsis\";\nimport { Button, ButtonIcon } from \"./button\";\nimport { ChevronLeftIcon } from \"@/components/ui/icons/chevron-left\";\nimport { ChevronRightIcon } from \"@/components/ui/icons/chevron-right\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { usePagination } from \"@/components/ui/hooks/use-pagination\";\n\n/**\n * Props for Pagination component.\n * @typedef PaginatorProps\n * @property {number} page - The current page number.\n * @property {number} limit - The number of items per page\n * @property {number} count - The total number of items\n * @property {\"basic\" | \"basic-alternate\" | \"number\"}  type - The variation of the pagination\n * @property {function} onPageChange - function which tracks the page\n */\nexport interface PaginatorProps {\n  page: number;\n  limit: number;\n  count: number;\n  onPageChange: (page: number) => void;\n  type: \"simple\" | \"full\" | \"default\";\n}\n\nconst PaginationContext = createContext<\n  PaginatorProps & {\n    totalPages: number;\n  }\n>({\n  page: 1,\n  count: 0,\n  limit: 6,\n  totalPages: 0,\n  type: \"default\",\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onPageChange: (page) => {},\n});\n\ninterface PaginationProps extends ComponentProps<\"nav\">, PaginatorProps {}\n\n/**\n * Component that allows users to navigate through a large set of content divided into discrete pages.\n * @component\n * @example\n * <Pagination propName=\"value\" />\n */\nconst Pagination: ForwardRefExoticComponent<PaginationProps> = forwardRef(\n  (\n    { count, limit, page, children, className, type, onPageChange, ...props },\n    ref,\n  ) => {\n    const totalPages = Math.ceil(count / limit);\n    return (\n      <PaginationContext.Provider\n        value={{ count, limit, page, totalPages, type, onPageChange }}\n      >\n        <nav\n          ref={ref}\n          role=\"navigation\"\n          aria-label=\"pagination\"\n          className={clx(\"text-body-md flex w-full justify-center\", className)}\n          {...props}\n        >\n          {children}\n        </nav>\n      </PaginationContext.Provider>\n    );\n  },\n);\n\nPagination.displayName = \"Pagination\";\n\nconst PaginationContent: ForwardRefExoticComponent<ComponentProps<\"ul\">> =\n  forwardRef(({ className, ...props }, ref) => (\n    <ul\n      ref={ref}\n      className={clx(\"flex flex-row items-center gap-4\", className)}\n      {...props}\n    />\n  ));\nPaginationContent.displayName = \"PaginationContent\";\n\nconst PaginationItem: ForwardRefExoticComponent<ComponentProps<\"li\">> =\n  forwardRef(({ className, ...props }, ref) => (\n    <li ref={ref} className={clx(\"rounded-md\", className)} {...props} />\n  ));\nPaginationItem.displayName = \"PaginationItem\";\n\nconst PaginationPrevious: ForwardRefExoticComponent<\n  ComponentProps<\"button\"> & { asChild?: boolean }\n> = forwardRef(({ asChild, children, ...props }, ref) => {\n  const { page, onPageChange } = useContext(PaginationContext);\n  const disabled = page <= 1;\n  const handlePreviousPage = () => {\n    if (page > 1) {\n      onPageChange(page - 1);\n    }\n  };\n\n  if (asChild)\n    return (\n      <Slot ref={ref} {...props}>\n        {children}\n      </Slot>\n    );\n\n  return (\n    <Button\n      ref={ref}\n      variant={\"default-outline\"}\n      size={\"medium\"}\n      disabled={disabled}\n      className={clx(disabled && \"shadow-transparent\")}\n      onClick={handlePreviousPage}\n      {...props}\n      aria-label=\"previous page\"\n    >\n      <ButtonIcon>\n        <ChevronLeftIcon />\n      </ButtonIcon>\n      {children}\n    </Button>\n  );\n});\n\nPaginationPrevious.displayName = \"PaginationPrevious\";\n\nconst PaginationNext: ForwardRefExoticComponent<\n  ComponentProps<\"button\"> & { asChild?: boolean }\n> = forwardRef(({ asChild, children, ...props }, ref) => {\n  const { page, totalPages, onPageChange } = useContext(PaginationContext);\n  const disabled = page === totalPages;\n  const handleNextPage = () => {\n    if (page < totalPages) {\n      onPageChange(page + 1);\n    }\n  };\n  if (asChild)\n    return (\n      <Slot ref={ref} {...props}>\n        {children}\n      </Slot>\n    );\n\n  return (\n    <Button\n      ref={ref}\n      variant={\"default-outline\"}\n      size={\"medium\"}\n      disabled={disabled}\n      className={clx(disabled && \"shadow-transparent\")}\n      onClick={handleNextPage}\n      {...props}\n      aria-label=\"next page\"\n    >\n      {children}\n      <ButtonIcon>\n        <ChevronRightIcon />\n      </ButtonIcon>\n    </Button>\n  );\n});\n\nPaginationNext.displayName = \"PaginationNext\";\n\nconst PaginationNumber: ForwardRefExoticComponent<\n  ComponentProps<\"button\"> & { number: number }\n> = forwardRef(({ number, ...props }, ref) => {\n  const { page, onPageChange } = useContext(PaginationContext);\n  const isActive = page === number;\n  const handleClickPage = () => {\n    onPageChange(number);\n  };\n  return (\n    <Button\n      ref={ref}\n      onClick={handleClickPage}\n      variant={\"default-ghost\"}\n      size={\"medium\"}\n      className={clx(\n        isActive && \"bg-bg-washed-active\",\n        \"h-10 w-10 items-center justify-center\",\n      )}\n      {...props}\n      aria-label={`page ${number}`}\n    >\n      {number}\n    </Button>\n  );\n});\n\nPaginationNumber.displayName = \"PaginationNumber\";\n\nconst PaginationLabel: ForwardRefExoticComponent<\n  ComponentProps<\"p\"> & { content?: ReactNode }\n> = forwardRef(({ className, content, ...props }, ref) => {\n  const { page, totalPages, type } = useContext(PaginationContext);\n  return (\n    <p ref={ref} className={clx(\"text-txt-black-700\", className)} {...props}>\n      {content ? content : type === \"full\" && `Page ${page} of ${totalPages}`}\n    </p>\n  );\n});\n\nPaginationLabel.displayName = \"PaginationLabel\";\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={clx(\"flex size-8 items-center justify-center\", className)}\n    {...props}\n  >\n    <EllipsisIcon className=\"text-txt-black-700 size-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n);\nPaginationEllipsis.displayName = \"PaginationEllipsis\";\n\ninterface AutoPaginationProps extends ComponentProps<\"nav\">, PaginatorProps {\n  maxDisplay?: number;\n  next?: ReactNode;\n  previous?: ReactNode;\n  fullText?: string;\n}\n\nconst AutoPagination: ForwardRefExoticComponent<AutoPaginationProps> =\n  forwardRef(\n    (\n      { type = \"default\", maxDisplay = 4, next, previous, fullText, ...props },\n      ref,\n    ) => {\n      const { visiblePages } = usePagination({\n        count: props.count,\n        limit: props.limit,\n        page: props.page,\n        maxDisplay,\n      });\n\n      if (type === \"simple\") {\n        return (\n          <Pagination ref={ref} type={type} {...props}>\n            <PaginationContent>\n              <PaginationItem>\n                {previous || <PaginationPrevious>Previous</PaginationPrevious>}\n              </PaginationItem>\n              <PaginationItem>\n                <PaginationLabel />\n              </PaginationItem>\n              <PaginationItem>\n                {next || <PaginationNext>Next</PaginationNext>}\n              </PaginationItem>\n            </PaginationContent>\n          </Pagination>\n        );\n      }\n      if (type === \"full\") {\n        return (\n          <Pagination ref={ref} type={type} {...props}>\n            <PaginationContent className=\"w-[512px]\">\n              <PaginationItem className=\"flex-1\">\n                <PaginationLabel content={fullText} />\n              </PaginationItem>\n              <PaginationItem>\n                {previous || <PaginationPrevious>Previous</PaginationPrevious>}\n              </PaginationItem>\n\n              <PaginationItem>\n                {next || <PaginationNext>Next</PaginationNext>}\n              </PaginationItem>\n            </PaginationContent>\n          </Pagination>\n        );\n      }\n\n      return (\n        <Pagination ref={ref} type={type} {...props}>\n          <PaginationContent>\n            <PaginationItem>\n              {previous || <PaginationPrevious />}\n            </PaginationItem>\n            {visiblePages.map((page, index) => (\n              <PaginationItem key={index}>\n                {page === \"...\" ? (\n                  <PaginationEllipsis />\n                ) : (\n                  typeof page === \"number\" && <PaginationNumber number={page} />\n                )}\n              </PaginationItem>\n            ))}\n            <PaginationItem>{next || <PaginationNext />}</PaginationItem>\n          </PaginationContent>\n        </Pagination>\n      );\n    },\n  );\n\nexport {\n  Pagination,\n  PaginationContext,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationNext,\n  PaginationNumber,\n  PaginationPrevious,\n  AutoPagination,\n};\n\nexport type { AutoPaginationProps };\n",
      "type": "components:ui"
    }
  ],
  "tailwind": {
    "config": {
      "theme": {
        "extend": {
          "colors": {}
        }
      }
    }
  }
}
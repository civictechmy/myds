{
  "name": "date-picker",
  "type": "components:ui",
  "dependencies": [
    "class-variance-authority",
    "date-fns",
    "react-day-picker"
  ],
  "registryDependencies": [
    "button",
    "calendar",
    "dialog",
    "hooks",
    "popover"
  ],
  "files": [
    {
      "path": "components/ui/date-picker.tsx",
      "content": "import { FC, ReactElement } from \"react\";\nimport { Matcher } from \"react-day-picker\";\nimport { enGB, ms } from \"date-fns/locale\";\nimport { format } from \"date-fns\";\nimport { useControllableState } from \"@/components/ui/hooks\";\nimport { CalendarIcon } from \"@/components/ui/icons/calendar\";\nimport { Button, button_cva, ButtonIcon } from \"./button\";\nimport { Calendar } from \"./calendar\";\nimport { Dialog, DialogBody, DialogContent, DialogTrigger } from \"./dialog\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"./popover\";\nimport { VariantProps } from \"class-variance-authority\";\n\ntype DatePickerProps = {\n  defaultValue?: Date;\n  disabled?: Matcher | Matcher[];\n  formatStr?: string;\n  icon?: ReactElement;\n  locale?: \"en\" | \"ms\";\n  maxYear?: number;\n  minYear?: number;\n  placeholder?: string;\n  value?: Date;\n  onValueChange?: (date: Date) => void;\n  size?: VariantProps<typeof button_cva>[\"size\"];\n  yearOrder?: \"asc\" | \"desc\";\n};\n\n/**\n * The DatePicker component allows users to select a date from an interactive calendar.\n * @see {@link https://design.digital.gov.my/?path=/docs/myds-react-datepicker--docs}\n */\nconst DatePicker: FC<DatePickerProps> = ({\n  defaultValue,\n  disabled,\n  formatStr = \"dd MMM yyy\",\n  icon,\n  locale = \"en\",\n  onValueChange,\n  placeholder = \"dd / mm / yyyy\",\n  value,\n  size,\n  ...props\n}) => {\n  const [date, setDate] = useControllableState({\n    prop: value,\n    onChange: onValueChange,\n    defaultProp: defaultValue,\n  });\n\n  const _locale = locale === \"en\" ? enGB : ms;\n  const formatDate = (date: Date) =>\n    format(date, formatStr, {\n      locale: _locale,\n    });\n\n  return (\n    <>\n      {/* Mobile */}\n      <Dialog>\n        <DialogTrigger asChild>\n          <Button\n            variant=\"default-outline\"\n            size={size}\n            className=\"flex lg:hidden\"\n            disabled={disabled === true}\n          >\n            <ButtonIcon>{icon ?? <CalendarIcon />}</ButtonIcon>\n            {date ? formatDate(date) : placeholder}\n          </Button>\n        </DialogTrigger>\n        <DialogBody hideClose className=\"sm:w-fit\">\n          <DialogContent className=\"p-0\">\n            <Calendar\n              disabled={disabled}\n              locale={_locale}\n              mode=\"single\"\n              month={date}\n              onSelect={setDate}\n              required\n              selected={date}\n              {...props}\n            />\n          </DialogContent>\n        </DialogBody>\n      </Dialog>\n\n      {/* Desktop */}\n      <Popover>\n        <PopoverTrigger asChild>\n          <Button\n            variant=\"default-outline\"\n            size={size}\n            className=\"hidden lg:flex\"\n            disabled={disabled === true}\n          >\n            <ButtonIcon>{icon ?? <CalendarIcon />}</ButtonIcon>\n            {date ? formatDate(date) : placeholder}\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent className=\"w-[304px] p-0\" align=\"start\">\n          <Calendar\n            disabled={disabled}\n            locale={_locale}\n            mode=\"single\"\n            month={date}\n            onSelect={setDate}\n            required\n            selected={date}\n            {...props}\n          />\n        </PopoverContent>\n      </Popover>\n    </>\n  );\n};\nDatePicker.displayName = \"DatePicker\";\n\nexport { DatePicker };\n",
      "type": "components:ui"
    }
  ]
}